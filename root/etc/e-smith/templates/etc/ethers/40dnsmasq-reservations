#
# 40dnsmasq-reservations 
#

{
    use esmith::HostsDB;
    my $hdb = esmith::HostsDB->open_ro();

    if( ! defined $hdb) {
	return '# hosts DB is not available';
    }

    foreach $host ($hdb->hosts)
    {
        my $IPAddress = $host->prop('IPAddress');
        next unless (defined($IPAddress) && ($IPAddress ne ''));

        my $MACAddress = $host->prop('MACAddress');
        next unless ( defined($MACAddress) && ($MACAddress ne ''));

        my $Description = $host->prop('Description');

        $OUT .= "# $Description\n" if $Description;
        $OUT .= $MACAddress . "\t" . $IPAddress . "\n";
    }

    return $OUT;
}


